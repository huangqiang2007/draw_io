<mxfile host="app.diagrams.net" modified="2022-08-15T13:39:09.652Z" agent="5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36" etag="OrZ5tsr3GiQaBpk7kZnM" version="20.2.3" type="github">
  <diagram id="uGQG1ukCMuUnGO_e7Zon" name="Page-1">
    <mxGraphModel dx="728" dy="2639" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yysnikCYSL8IFi_H5CMY-14" value=".got" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-1080" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-15" value=".dynsym" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-1050" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-16" value=".symtab" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-750" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-17" value=".shstrtab" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-690" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-18" value=".strtab" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-720" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-19" value="&lt;div style=&quot;color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 8px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;typedef&lt;/span&gt; &lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;/li&gt;&lt;li&gt;{&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color: #569cd6;&quot;&gt;char&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_ident&lt;/span&gt;[&lt;span style=&quot;color: #569cd6;&quot;&gt;EI_NIDENT&lt;/span&gt;];&lt;span style=&quot;color: #6a9955;&quot;&gt; /* Magic number and other info */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_type&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;     /* Object file type */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_machine&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Architecture */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_version&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Object file version */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Addr&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_entry&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Entry point virtual address */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Off&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_phoff&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Program header table file offset */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Off&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_shoff&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section header table file offset */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_flags&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Processor-specific flags */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_ehsize&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;   /* ELF header size in bytes */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_phentsize&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Program header table entry size */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_phnum&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Program header table entry count */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_shentsize&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section header table entry size */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_shnum&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section header table entry count */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Half&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;e_shstrndx&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;   /* Section header string table index */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;} &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Ehdr&lt;/span&gt;;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="310" y="-1370" width="380" height="370" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-20" value="&lt;div style=&quot;color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;typedef&lt;/span&gt; &lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;/li&gt;&lt;li&gt;{&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_name&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section name (string tbl index) */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_type&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section type */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Xword&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_flags&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;   /* Section flags */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Addr&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_addr&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section virtual addr at execution */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Off&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_offset&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section file offset */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Xword&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_size&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Section size in bytes */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_link&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Link to another section */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Word&lt;/span&gt;  &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_info&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;    /* Additional section information */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Xword&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_addralign&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;   /* Section alignment */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Xword&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sh_entsize&lt;/span&gt;;&lt;span style=&quot;color: #6a9955;&quot;&gt;   /* Entry size if section holds table */&lt;/span&gt;&lt;/li&gt;&lt;li&gt;} &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Elf64_Shdr&lt;/span&gt;;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=8;fontColor=#000000;align=left;" parent="1" vertex="1">
          <mxGeometry x="310" y="-990" width="350" height="300" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-21" value=".dynstr" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-1020" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-22" value=".plt" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-810" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-23" value=".plt.got" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-780" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-24" value=".rela.dyn" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-990" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-25" value=".rela.plt" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-960" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-26" value=".text" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-930" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-27" value=".rodata" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-900" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-28" value=".data" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-870" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-29" value=".bss" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-840" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-30" value=".dynamic" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-1110" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-31" value=".interp" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-1140" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yysnikCYSL8IFi_H5CMY-32" value="&lt;ol style=&quot;font-size: 12px;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;.shstrtab: section name table&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;.strtab: .strtab 中符号名字符串表&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;.dynstr: .dynsym 中符号名字符串表&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;.plt: 过程链接表(Procedure Linkage Table),用来保存长跳转格式的函数调用&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;.got:&amp;nbsp;&lt;/span&gt;全局偏移表(Global Offset Table)，在地址无关代码中才需要，所有只读段需要修复的位置都间接引用到此表, 因此只读段自身就无需修复，只需修复此got表即可.&amp;nbsp; .got表是在编译期间确定，静态链接期间生成的, 而.plt表是在静态链接期间确定，静态链接期间生成的&lt;/li&gt;&lt;li style=&quot;&quot;&gt;.got.plt: 实际上其本质是从.got表中拆除来的一部分，当开启延迟绑定(Lazy&amp;nbsp;Binding)时，会将plt表中的长跳转(函数)的重定位信息单独放到此表中，以满足后续实际的延迟绑定.&lt;/li&gt;&lt;li style=&quot;&quot;&gt;.interp:&amp;nbsp; .interp整个段的内容就是一个字符串，此字符串为系统中动态链接器的路径，如：/lib/ld-linux-aarch64.so.1 linux的可执行文件加载时会去寻找可执行文件所需的动态链接器&lt;/li&gt;&lt;li&gt;.dynamic: .dynamic中保存的是动态链接器用到的基本信息,如动态链接符号表(.dynsym)，字符串表(.dynstr),重定位表(.rela.dyn/rela.plt),依赖的运行时库，库查找路径等&lt;/li&gt;&lt;li&gt;.rela.dyn: 记录所有变量的动态链接重定位信息（.rela.plt记录的是函数），与.rela.plt一起，是系统中唯二的两张动态链接重定位表。.rela.dyn记录除了.plt段之外所有段的动态链接重定位信息，若开启了地址无关代码，那么这些信息都应该只与.got段的地址有关.&lt;/li&gt;&lt;li style=&quot;font-size: 12px;&quot;&gt;.rela.plt:&amp;nbsp; 过程连接表的动态链接重定位表，只要有过程链表，通常就会有此表，因为plt导致了绝对跳转，那么所有plt表中所有需要动态链接/重定位的绝对地址(可能在.got.plt或.got中，依赖于是否开启延迟绑定),都需要通过.rela.plt记录&amp;nbsp; 此表中记录所有全局函数(长跳转函数)的动态链接重定位信息，与.rela.dyn一起，是系统中唯二的两张动态链接重定位表。.rela.plt实际上记录的是.plt段的动态链接重定位信息，若未开启lazy binding,则这这些信息应该都只与.got段的地址有关；若开启lazy binding,则这些信息应该都只与.got.plt段的地址有关&lt;/li&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=8;fontColor=#000000;align=left;" parent="1" vertex="1">
          <mxGeometry x="310" y="-670" width="440" height="470" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
